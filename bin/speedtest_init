#!/usr/bin/env ruby

require 'fileutils'
require 'optparse'
require_relative '../lib/speed_test'

@custom = {}

OptionParser.new do |opt|
  opt.banner = 'Usage: speedtest_init [options]'

  opt.on('-h', '--help', 'Display this screen') do
    puts opt
    exit
  end

  opt.on('-o', '--output PATH', String, 'specify path for output directory') do |path|
    @custom[:output] = path
  end

  opt.on('-l', '--log PATH', String, 'specify path for log directory') do |path|
    @custom[:log] = path
  end

end.parse!

@base_dir = ARGV[0] || Dir.pwd

SpeedTest::Setup.new(base_dir: @base_dir, custom: @custom).directories
